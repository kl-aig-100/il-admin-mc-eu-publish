import{r as S,c as Ye,d as V,j as c,e as P,f as Ze,g as W,b as T,h as k,C as et,i as we,k as q,l as Te,A as tt,m as rt,n as nt,o as st,p as pe,M as it,B as at,q as ot,s as lt,t as ct,v as ut,_ as dt,w as ve,x as ht,y as ye,z as me,D as ft,E as pt,G as ge,H as be,I as vt,J as yt,K as H,S as mt,R as F,N as re,O as gt,P as bt,a as Y,Q as _,T as j,U as Rt,V as Ee,W as Z,X as St,Y as Ct,Z as wt,$ as Oe,a0 as Tt,a1 as Et,L as Ot,a2 as Nt,a3 as Qt,a4 as It}from"./index-1dad7262.js";function Bt(){return S.useState(null)}const Mt=["onKeyDown"];function Ft(e,i){if(e==null)return{};var s={},n=Object.keys(e),r,t;for(t=0;t<n.length;t++)r=n[t],!(i.indexOf(r)>=0)&&(s[r]=e[r]);return s}function $t(e){return!e||e.trim()==="#"}const Ne=S.forwardRef((e,i)=>{let{onKeyDown:s}=e,n=Ft(e,Mt);const[r]=Ye(Object.assign({tagName:"a"},n)),t=V(o=>{r.onKeyDown(o),s==null||s(o)});return $t(n.href)||n.role==="button"?c("a",Object.assign({ref:i},n,r,{onKeyDown:t})):c("a",Object.assign({ref:i},n,{onKeyDown:s}))});Ne.displayName="Anchor";const Qe=we("h4");Qe.displayName="DivStyledAsH4";const xt=P("alert-heading",{Component:Qe}),kt=P("alert-link",{Component:Ne}),At={variant:"primary",show:!0,transition:q,closeLabel:"Close alert"},ne=S.forwardRef((e,i)=>{const{bsPrefix:s,show:n,closeLabel:r,closeVariant:t,className:o,children:a,variant:d,onClose:l,dismissible:f,transition:u,...p}=Ze(e,{show:"onClose"}),v=W(s,"alert"),h=V(w=>{l&&l(!1,w)}),m=u===!0?q:u,C=T("div",{role:"alert",...m?void 0:p,ref:i,className:k(o,v,d&&`${v}-${d}`,f&&`${v}-dismissible`),children:[f&&c(et,{onClick:h,"aria-label":r,variant:t}),a]});return m?c(m,{unmountOnExit:!0,...p,ref:void 0,in:n,children:C}):n?C:null});ne.displayName="Alert";ne.defaultProps=At;const Ut=Object.assign(ne,{Link:kt,Heading:xt});var z;function Re(e){if((!z&&z!==0||e)&&Te){var i=document.createElement("div");i.style.position="absolute",i.style.top="-9999px",i.style.width="50px",i.style.height="50px",i.style.overflow="scroll",document.body.appendChild(i),z=i.offsetWidth-i.clientWidth,document.body.removeChild(i)}return z}const Lt=P("modal-body"),Ie=S.forwardRef(({bsPrefix:e,className:i,contentClassName:s,centered:n,size:r,fullscreen:t,children:o,scrollable:a,...d},l)=>{e=W(e,"modal");const f=`${e}-dialog`,u=typeof t=="string"?`${e}-fullscreen-${t}`:`${e}-fullscreen`;return c("div",{...d,ref:l,className:k(f,i,r&&`${e}-${r}`,n&&`${f}-centered`,a&&`${f}-scrollable`,t&&u),children:c("div",{className:k(`${e}-content`,s),children:o})})});Ie.displayName="ModalDialog";const Be=Ie,Dt=P("modal-footer"),Ht={closeLabel:"Close",closeButton:!1},se=S.forwardRef(({bsPrefix:e,className:i,...s},n)=>(e=W(e,"modal-header"),c(tt,{ref:n,...s,className:k(i,e)})));se.displayName="ModalHeader";se.defaultProps=Ht;const _t=se,jt=we("h4"),Pt=P("modal-title",{Component:jt}),Wt={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:Be};function Kt(e){return c(q,{...e,timeout:null})}function zt(e){return c(q,{...e,timeout:null})}const ie=S.forwardRef(({bsPrefix:e,className:i,style:s,dialogClassName:n,contentClassName:r,children:t,dialogAs:o,"aria-labelledby":a,"aria-describedby":d,"aria-label":l,show:f,animation:u,backdrop:p,keyboard:v,onEscapeKeyDown:h,onShow:m,onHide:C,container:w,autoFocus:E,enforceFocus:R,restoreFocus:I,restoreFocusOptions:O,onEntered:g,onExit:b,onExiting:N,onEnter:M,onEntering:Q,onExited:x,backdropClassName:B,manager:$,...K},$e)=>{const[xe,ke]=S.useState({}),[Ae,oe]=S.useState(!1),G=S.useRef(!1),X=S.useRef(!1),U=S.useRef(null),[L,Ue]=Bt(),Le=rt($e,Ue),le=V(C),De=nt();e=W(e,"modal");const He=S.useMemo(()=>({onHide:le}),[le]);function ce(){return $||ot({isRTL:De})}function ue(y){if(!Te)return;const A=ce().getScrollbarWidth()>0,fe=y.scrollHeight>ct(y).documentElement.clientHeight;ke({paddingRight:A&&!fe?Re():void 0,paddingLeft:!A&&fe?Re():void 0})}const J=V(()=>{L&&ue(L.dialog)});st(()=>{pe(window,"resize",J),U.current==null||U.current()});const _e=()=>{G.current=!0},je=y=>{G.current&&L&&y.target===L.dialog&&(X.current=!0),G.current=!1},de=()=>{oe(!0),U.current=ut(L.dialog,()=>{oe(!1)})},Pe=y=>{y.target===y.currentTarget&&de()},We=y=>{if(p==="static"){Pe(y);return}if(X.current||y.target!==y.currentTarget){X.current=!1;return}C==null||C()},Ke=y=>{v?h==null||h(y):(y.preventDefault(),p==="static"&&de())},ze=(y,A)=>{y&&ue(y),M==null||M(y,A)},Ve=y=>{U.current==null||U.current(),b==null||b(y)},qe=(y,A)=>{Q==null||Q(y,A),lt(window,"resize",J)},Ge=y=>{y&&(y.style.display=""),x==null||x(y),pe(window,"resize",J)},Xe=S.useCallback(y=>c("div",{...y,className:k(`${e}-backdrop`,B,!u&&"show")}),[u,B,e]),he={...s,...xe};he.display="block";const Je=y=>c("div",{role:"dialog",...y,style:he,className:k(i,e,Ae&&`${e}-static`,!u&&"show"),onClick:p?We:void 0,onMouseUp:je,"aria-label":l,"aria-labelledby":a,"aria-describedby":d,children:c(o,{...K,onMouseDown:_e,className:n,contentClassName:r,children:t})});return c(it.Provider,{value:He,children:c(at,{show:f,ref:Le,backdrop:p,container:w,keyboard:!0,autoFocus:E,enforceFocus:R,restoreFocus:I,restoreFocusOptions:O,onEscapeKeyDown:Ke,onShow:m,onHide:C,onEnter:ze,onEntering:qe,onEntered:g,onExit:Ve,onExiting:N,onExited:Ge,manager:ce(),transition:u?Kt:void 0,backdropTransition:u?zt:void 0,renderBackdrop:Xe,renderDialog:Je})})});ie.displayName="Modal";ie.defaultProps=Wt;const D=Object.assign(ie,{Body:Lt,Header:_t,Title:Pt,Footer:Dt,Dialog:Be,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Vt=S.forwardRef(({bsPrefix:e,className:i,striped:s,bordered:n,borderless:r,hover:t,size:o,variant:a,responsive:d,...l},f)=>{const u=W(e,"table"),p=k(i,u,a&&`${u}-${a}`,o&&`${u}-${o}`,s&&`${u}-${typeof s=="string"?`striped-${s}`:"striped"}`,n&&`${u}-bordered`,r&&`${u}-borderless`,t&&`${u}-hover`),v=c("table",{...l,className:p,ref:f});if(d){let h=`${u}-responsive`;return typeof d=="string"&&(h=`${h}-${d}`),c("div",{className:h,children:v})}return v}),qt=Vt;var Gt=function(e){dt(i,e);function i(n,r){var t;return t=e.call(this)||this,t.client=n,t.options=r,t.trackedProps=[],t.selectError=null,t.bindMethods(),t.setOptions(r),t}var s=i.prototype;return s.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},s.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Se(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},s.onUnsubscribe=function(){this.listeners.length||this.destroy()},s.shouldFetchOnReconnect=function(){return ee(this.currentQuery,this.options,this.options.refetchOnReconnect)},s.shouldFetchOnWindowFocus=function(){return ee(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},s.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},s.setOptions=function(r,t){var o=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(r),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var d=this.hasListeners();d&&Ce(this.currentQuery,a,this.options,o)&&this.executeFetch(),this.updateResult(t),d&&(this.currentQuery!==a||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var l=this.computeRefetchInterval();d&&(this.currentQuery!==a||this.options.enabled!==o.enabled||l!==this.currentRefetchInterval)&&this.updateRefetchInterval(l)},s.getOptimisticResult=function(r){var t=this.client.defaultQueryObserverOptions(r),o=this.client.getQueryCache().build(this.client,t);return this.createResult(o,t)},s.getCurrentResult=function(){return this.currentResult},s.trackResult=function(r,t){var o=this,a={},d=function(f){o.trackedProps.includes(f)||o.trackedProps.push(f)};return Object.keys(r).forEach(function(l){Object.defineProperty(a,l,{configurable:!1,enumerable:!0,get:function(){return d(l),r[l]}})}),(t.useErrorBoundary||t.suspense)&&d("error"),a},s.getNextResult=function(r){var t=this;return new Promise(function(o,a){var d=t.subscribe(function(l){l.isFetching||(d(),l.isError&&(r!=null&&r.throwOnError)?a(l.error):o(l))})})},s.getCurrentQuery=function(){return this.currentQuery},s.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},s.refetch=function(r){return this.fetch(ve({},r,{meta:{refetchPage:r==null?void 0:r.refetchPage}}))},s.fetchOptimistic=function(r){var t=this,o=this.client.defaultQueryObserverOptions(r),a=this.client.getQueryCache().build(this.client,o);return a.fetch().then(function(){return t.createResult(a,o)})},s.fetch=function(r){var t=this;return this.executeFetch(r).then(function(){return t.updateResult(),t.currentResult})},s.executeFetch=function(r){this.updateQuery();var t=this.currentQuery.fetch(this.options,r);return r!=null&&r.throwOnError||(t=t.catch(ht)),t},s.updateStaleTimeout=function(){var r=this;if(this.clearStaleTimeout(),!(ye||this.currentResult.isStale||!me(this.options.staleTime))){var t=ft(this.currentResult.dataUpdatedAt,this.options.staleTime),o=t+1;this.staleTimeoutId=setTimeout(function(){r.currentResult.isStale||r.updateResult()},o)}},s.computeRefetchInterval=function(){var r;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(r=this.options.refetchInterval)!=null?r:!1},s.updateRefetchInterval=function(r){var t=this;this.clearRefetchInterval(),this.currentRefetchInterval=r,!(ye||this.options.enabled===!1||!me(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(t.options.refetchIntervalInBackground||pt.isFocused())&&t.executeFetch()},this.currentRefetchInterval))},s.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},s.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},s.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},s.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},s.createResult=function(r,t){var o=this.currentQuery,a=this.options,d=this.currentResult,l=this.currentResultState,f=this.currentResultOptions,u=r!==o,p=u?r.state:this.currentQueryInitialState,v=u?this.currentResult:this.previousQueryResult,h=r.state,m=h.dataUpdatedAt,C=h.error,w=h.errorUpdatedAt,E=h.isFetching,R=h.status,I=!1,O=!1,g;if(t.optimisticResults){var b=this.hasListeners(),N=!b&&Se(r,t),M=b&&Ce(r,o,t,a);(N||M)&&(E=!0,m||(R="loading"))}if(t.keepPreviousData&&!h.dataUpdateCount&&(v!=null&&v.isSuccess)&&R!=="error")g=v.data,m=v.dataUpdatedAt,R=v.status,I=!0;else if(t.select&&typeof h.data<"u")if(d&&h.data===(l==null?void 0:l.data)&&t.select===this.selectFn)g=this.selectResult;else try{this.selectFn=t.select,g=t.select(h.data),t.structuralSharing!==!1&&(g=ge(d==null?void 0:d.data,g)),this.selectResult=g,this.selectError=null}catch(B){be().error(B),this.selectError=B}else g=h.data;if(typeof t.placeholderData<"u"&&typeof g>"u"&&(R==="loading"||R==="idle")){var Q;if(d!=null&&d.isPlaceholderData&&t.placeholderData===(f==null?void 0:f.placeholderData))Q=d.data;else if(Q=typeof t.placeholderData=="function"?t.placeholderData():t.placeholderData,t.select&&typeof Q<"u")try{Q=t.select(Q),t.structuralSharing!==!1&&(Q=ge(d==null?void 0:d.data,Q)),this.selectError=null}catch(B){be().error(B),this.selectError=B}typeof Q<"u"&&(R="success",g=Q,O=!0)}this.selectError&&(C=this.selectError,g=this.selectResult,w=Date.now(),R="error");var x={status:R,isLoading:R==="loading",isSuccess:R==="success",isError:R==="error",isIdle:R==="idle",data:g,dataUpdatedAt:m,error:C,errorUpdatedAt:w,failureCount:h.fetchFailureCount,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>p.dataUpdateCount||h.errorUpdateCount>p.errorUpdateCount,isFetching:E,isRefetching:E&&R!=="loading",isLoadingError:R==="error"&&h.dataUpdatedAt===0,isPlaceholderData:O,isPreviousData:I,isRefetchError:R==="error"&&h.dataUpdatedAt!==0,isStale:ae(r,t),refetch:this.refetch,remove:this.remove};return x},s.shouldNotifyListeners=function(r,t){if(!t)return!0;var o=this.options,a=o.notifyOnChangeProps,d=o.notifyOnChangePropsExclusions;if(!a&&!d||a==="tracked"&&!this.trackedProps.length)return!0;var l=a==="tracked"?this.trackedProps:a;return Object.keys(r).some(function(f){var u=f,p=r[u]!==t[u],v=l==null?void 0:l.some(function(m){return m===f}),h=d==null?void 0:d.some(function(m){return m===f});return p&&!h&&(!l||v)})},s.updateResult=function(r){var t=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!vt(this.currentResult,t)){var o={cache:!0};(r==null?void 0:r.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,t)&&(o.listeners=!0),this.notify(ve({},o,r))}},s.updateQuery=function(){var r=this.client.getQueryCache().build(this.client,this.options);if(r!==this.currentQuery){var t=this.currentQuery;this.currentQuery=r,this.currentQueryInitialState=r.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(t==null||t.removeObserver(this),r.addObserver(this))}},s.onQueryUpdate=function(r){var t={};r.type==="success"?t.onSuccess=!0:r.type==="error"&&!yt(r.error)&&(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()},s.notify=function(r){var t=this;H.batch(function(){r.onSuccess?(t.options.onSuccess==null||t.options.onSuccess(t.currentResult.data),t.options.onSettled==null||t.options.onSettled(t.currentResult.data,null)):r.onError&&(t.options.onError==null||t.options.onError(t.currentResult.error),t.options.onSettled==null||t.options.onSettled(void 0,t.currentResult.error)),r.listeners&&t.listeners.forEach(function(o){o(t.currentResult)}),r.cache&&t.client.getQueryCache().notify({query:t.currentQuery,type:"observerResultsUpdated"})})},i}(mt);function Xt(e,i){return i.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&i.retryOnMount===!1)}function Se(e,i){return Xt(e,i)||e.state.dataUpdatedAt>0&&ee(e,i,i.refetchOnMount)}function ee(e,i,s){if(i.enabled!==!1){var n=typeof s=="function"?s(e):s;return n==="always"||n!==!1&&ae(e,i)}return!1}function Ce(e,i,s,n){return s.enabled!==!1&&(e!==i||n.enabled===!1)&&(!s.suspense||e.state.status!=="error")&&ae(e,s)}function ae(e,i){return e.isStaleByTime(i.staleTime)}function Jt(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var Yt=F.createContext(Jt()),Zt=function(){return F.useContext(Yt)};function er(e,i){var s=F.useRef(!1),n=F.useState(0),r=n[1],t=re(),o=Zt(),a=t.defaultQueryObserverOptions(e);a.optimisticResults=!0,a.onError&&(a.onError=H.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=H.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=H.batchCalls(a.onSettled)),a.suspense&&(typeof a.staleTime!="number"&&(a.staleTime=1e3),a.cacheTime===0&&(a.cacheTime=1)),(a.suspense||a.useErrorBoundary)&&(o.isReset()||(a.retryOnMount=!1));var d=F.useState(function(){return new i(t,a)}),l=d[0],f=l.getOptimisticResult(a);if(F.useEffect(function(){s.current=!0,o.clearReset();var u=l.subscribe(H.batchCalls(function(){s.current&&r(function(p){return p+1})}));return l.updateResult(),function(){s.current=!1,u()}},[o,l]),F.useEffect(function(){l.setOptions(a,{listeners:!1})},[a,l]),a.suspense&&f.isLoading)throw l.fetchOptimistic(a).then(function(u){var p=u.data;a.onSuccess==null||a.onSuccess(p),a.onSettled==null||a.onSettled(p,null)}).catch(function(u){o.clearReset(),a.onError==null||a.onError(u),a.onSettled==null||a.onSettled(void 0,u)});if(f.isError&&!o.isReset()&&!f.isFetching&&gt(a.suspense,a.useErrorBoundary,[f.error,l.getCurrentQuery()]))throw f.error;return a.notifyOnChangeProps==="tracked"&&(f=l.trackResult(f,a)),f}function tr(e,i,s){var n=bt(e,i,s);return er(n,Gt)}const Me=(e,i)=>(Object.keys(e).forEach(n=>{typeof e[n]=="object"?i=Me(e[n],i):e[n]!==void 0&&e[n]!==""&&(i+=i.includes("?")?"&":"?",i+=`${n}=${e[n]}`)}),i),mr=e=>{const i=Y.CancelToken.source(),s=_.getState().pagination,n=Me(s,e),r=Y.get(n,{cancelToken:i.token}).then(t=>t.data).catch(t=>{throw Y.isCancel(t)?new Error("Request cancelled"):t});return r.cancel=()=>{i.cancel("Request cancelled by user")},r},Fe=({showHandleButton:e,textButton:i="",modalSize:s,variantButton:n="",iconButton:r="",children:t,onSaveButton:o,onSaveCloseButton:a,onYesButton:d,titleBody:l,saveTextButton:f,saveCloseTextButton:u,yesTextButton:p,cancelTextButton:v,show:h,setShow:m,errors:C,setErrors:w,onClick:E=void 0,isLoading:R=!1})=>{const I=()=>{m(!1),w({})},O=g=>{m(!0),E==null||E(g)};return T(j,{children:[e?c(Rt,{variant:n??"primary",text:i??"",icon:r,onClick:g=>O(g)}):c(j,{}),T(D,{size:s,show:h,onHide:I,children:[c(D.Header,{children:T(D.Title,{children:["  ",c("i",{className:`${r} mt-2`})," ",l]})}),T(D.Body,{children:[C&&Object.keys(C).map(g=>c(Ut,{className:"small",variant:"danger",children:C[g][0]},g)),t]}),T(D.Footer,{children:[T(Ee,{variant:"secondary",onClick:I,className:"",children:[v," "]}),d&&c(Z,{isLoading:R,onClick:d,label:p}),o&&c(Z,{isLoading:R,onClick:o,label:f,iconClasses:"bi bi-save"}),a&&c(Z,{isLoading:R,onClick:a,label:u,iconClasses:"bi bi-save"})]})]})]})},gr=({queryKey:e,title:i,onSubmit:s,schema:n,children:r,modalSize:t,show:o,setShow:a,mode:d,icon:l,submitTextButton:f,submitCloseTextButton:u})=>{const p=St({resolver:Ct(n)}),[v,h]=S.useState(!1),m=re(),[C,w]=S.useState(),E=async O=>{await I(O,!0)},R=async O=>{await I(O,!1)},I=async(O,g)=>{try{h(!0);const b=n.parse(O),N=await s(b);N.statusCode>=200&&N.statusCode<300?(a(!1),w({}),Oe(N.message),m.refetchQueries(e),g||a(!0)):w(N.errors)}catch(b){console.error(b)}finally{h(!1)}};return c(wt,{...p,children:c(Fe,{showHandleButton:!1,modalSize:t,cancelTextButton:"Close",saveTextButton:f,saveCloseTextButton:u,isLoading:v,onSaveCloseButton:d==="view"||!u?void 0:p.handleSubmit(E),onSaveButton:d==="view"||!f?void 0:p.handleSubmit(R),show:o,setShow:a,titleBody:i,children:r,errors:C,setErrors:w,iconButton:l})})},br=({bodyText:e,title:i,cancelText:s,confirmText:n,onDelete:r,data:t,queryKey:o,handleOnClick:a})=>{const[d,l]=S.useState(!1),[f,u]=S.useState(!1),p=re();return c(Fe,{showHandleButton:!0,children:e,isLoading:d,onYesButton:async()=>{try{l(!0);const h=await r(t);h.statusCode===200?(u(!1),Oe(h.message),p.refetchQueries(o)):Tt(h.message)}catch(h){console.error(h)}finally{l(!1)}},textButton:"",titleBody:i,variantButton:"danger btn-sm",iconButton:"bi bi-trash3 small",yesTextButton:n,cancelTextButton:s,show:f,setShow:u,setErrors:()=>{},onClick:a})},Rr=({show:e,children:i})=>e?c(j,{children:i}):null,Sr=({queryKey:e,queryFn:i,children:s})=>{const{data:n,isLoading:r,isError:t,isFetching:o,error:a,refetch:d}=tr(e,i,{retry:0});return t?c(Et,{error:a.message}):r?c(Ot,{minHeight:"90vh"}):c(j,{children:s(n,d,o||r)})};const rr=({columns:e,headerRowProps:i})=>{var s;return c(j,{children:((s=e==null?void 0:e.filter(n=>n.label))==null?void 0:s.length)>0&&c("thead",{children:c("tr",{...i,children:e==null?void 0:e.map((n,r)=>c(F.Fragment,{children:c("td",{align:n.align?n.align:"left",style:{...n.width&&{width:n.width}},...n.headerCellProps,children:c("p",{className:"fw-bolder",children:n.label})})},n.id+"_"+r))})})})},nr=(e,i)=>{const s=sr(e,i);if(typeof s=="object"&&s!==null)throw new Error("La ruta "+i+" debe retornar un valor.");return s},sr=(e,i)=>{if(e&&i){const s=i.split(".");let n=e;for(const r of s){if(n[r]===void 0||n[r]===null)return;n=n[r]}return n}else return null},ir=({columnProps:e,rowData:i})=>c("td",{align:e.align,style:{...e.width&&{width:e.width}},...e.rowCellProps,children:e.render?e.render(i):nr(i,e.data)},i==null?void 0:i.id),ar=({rowProps:e,rowIndex:i,onRowClick:s,rowData:n,columns:r})=>c("tr",{...e,onClick:()=>{s==null||s(n,i)},style:{cursor:s?"pointer":"default"},children:r==null?void 0:r.map((t,o)=>c(F.Fragment,{children:c(ir,{columnProps:t,rowData:n})},`${i}-${t.id}_${o}`))},i),or=({data:e,row:i,columns:s,isLoading:n})=>!e||e.length<=0?c("tbody",{children:c("tr",{children:c("td",{colSpan:s==null?void 0:s.length,children:"No hay registros disponibles"})},0)}):c("tbody",{style:{opacity:n?.5:1},children:e==null?void 0:e.map((r,t)=>c(ar,{rowProps:i,rowIndex:t,onRowClick:i==null?void 0:i.onRowClick,rowData:r,columns:s},(r==null?void 0:r.id)+"_"+t))}),lr=({totalCount:e,data:i,isLoading:s})=>{var a;const n=_.getState().pagination.pageSize,r=((a=i==null?void 0:i.items)==null?void 0:a.length)??"",t=(n<e?n:e)??"",o=t>r?r:t;return s?c("div",{className:"ps-3 pe-3 m-auto",children:c(Nt,{animation:"border",className:"ocultoMovil",size:"sm",variant:"primary"})}):T("p",{className:"fs-15 ps-3 pe-3 color-text-table me-4 ocultoMovil",style:{fontSize:"12px"},children:["Showing",r===0?" 0-0 ":` 1-${o} `,"records of",` ${e??0} `]})};function cr(e,i,s){const[n,r]=S.useState(e);return S.useEffect(()=>{const t=setTimeout(()=>r(e),s||500);return i&&i(e),()=>{clearTimeout(t)}},[e,s]),n}const ur=({refetch:e})=>{const{dispatch:i}=_,[s,n]=S.useState(""),r=cr(s,o=>i.pagination.setFilter(o),500),t=S.useRef(!0);return S.useEffect(()=>{t.current?t.current=!1:(i.pagination.setPageNumber(0),e())},[r]),c("div",{className:"d-flex align-items-end",children:T("div",{className:"d-flex",children:[c(Qt.Control,{className:"toolbar-search-input toolbar-border-bottom",type:"text",placeholder:"Search...",value:s,onChange:o=>n(o.target.value)}),c("i",{className:"bi bi-search text-white d-flex justify-content-end align-items-center toolbar-search-icon toolbar-border-bottom pe-2 fs-15"})]})})};var te={},dr={get exports(){return te},set exports(e){te=e}};(function(e,i){(function(s,n){e.exports=n()})(It,function(){return function s(n,r,t){var o=window,a="application/octet-stream",d=t||a,l=n,f=!r&&!t&&l,u=document.createElement("a"),p=function(b){return String(b)},v=o.Blob||o.MozBlob||o.WebKitBlob||p,h=r||"download",m,C;if(v=v.call?v.bind(o):Blob,String(this)==="true"&&(l=[l,d],d=l[0],l=l[1]),f&&f.length<2048&&(h=f.split("/").pop().split("?")[0],u.href=f,u.href.indexOf(f)!==-1)){var w=new XMLHttpRequest;return w.open("GET",f,!0),w.responseType="blob",w.onload=function(b){s(b.target.response,h,a)},setTimeout(function(){w.send()},0),w}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(l))if(l.length>1024*1024*1.999&&v!==p)l=O(l),d=l.type||a;else return navigator.msSaveBlob?navigator.msSaveBlob(O(l),h):g(l);else if(/([\x80-\xff])/.test(l)){var E=0,R=new Uint8Array(l.length),I=R.length;for(E;E<I;++E)R[E]=l.charCodeAt(E);l=new v([R],{type:d})}m=l instanceof v?l:new v([l],{type:d});function O(b){var N=b.split(/[:;,]/),M=N[1],Q=N[2]=="base64"?atob:decodeURIComponent,x=Q(N.pop()),B=x.length,$=0,K=new Uint8Array(B);for($;$<B;++$)K[$]=x.charCodeAt($);return new v([K],{type:M})}function g(b,N){if("download"in u)return u.href=b,u.setAttribute("download",h),u.className="download-js-link",u.innerHTML="downloading...",u.style.display="none",document.body.appendChild(u),setTimeout(function(){u.click(),document.body.removeChild(u),N===!0&&setTimeout(function(){o.URL.revokeObjectURL(u.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(b)&&(b="data:"+b.replace(/^data:([\w\/\-\+]+)/,a)),window.open(b)||confirm(`Displaying New Document

Use Save As... to download, then click back to return to this page.`)&&(location.href=b),!0;var M=document.createElement("iframe");document.body.appendChild(M),!N&&/^data:/.test(b)&&(b="data:"+b.replace(/^data:([\w\/\-\+]+)/,a)),M.src=b,setTimeout(function(){document.body.removeChild(M)},333)}if(navigator.msSaveBlob)return navigator.msSaveBlob(m,h);if(o.URL)g(o.URL.createObjectURL(m),!0);else{if(typeof m=="string"||m.constructor===p)try{return g("data:"+d+";base64,"+o.btoa(m))}catch{return g("data:"+d+","+encodeURIComponent(m))}C=new FileReader,C.onload=function(b){g(this.result)},C.readAsDataURL(m)}return!0}})})(dr);const hr=te,fr=async e=>{const{callbackData:i}=e,s=await i(),n=`data:${s.contentType};base64,${s.content}`;hr(n,s.fileName)},pr=e=>{const[i,s]=S.useState(!1);return S.useRef(null),c("div",{onClick:r=>{s(!i),r.stopPropagation()},children:c("a",{href:"#",onClick:()=>fr(e),className:"ocultoMovil",children:c("i",{className:"bi-file-earmark-spreadsheet text-white fs-5 ps-4 ocultoMovil"})})})},vr=({excelProps:e,title:i,icon:s,actions:n,refetch:r})=>T("div",{className:"d-flex justify-content-between align-items-center toolbar",children:[T("div",{className:"d-flex align-items-center justify-content-start",children:[T("h5",{className:"text-white me-3",children:[" ",c("i",{className:`${s} mt-2`})," "]}),(n==null?void 0:n.new)&&T(Ee,{variant:"primary",onClick:n.new,className:"btn btn-toolbar",children:[c("i",{className:"bi-plus-lg text-white"})," ",T("div",{className:"ms-1",children:["  New ",i," "]})]}),!(n!=null&&n.new)&&T("h5",{className:"text-white ms-3",children:[" ",i," "]})]}),T("div",{className:"d-flex align-items-center justify-content-end",children:[c(ur,{refetch:r}),e?c(pr,{...e}):null]})]}),Cr=({data:e,columns:i,headerRowProps:s,row:n,isLoading:r,refetch:t,excelProps:o,title:a,icon:d,actions:l})=>{const{dispatch:f}=_,u=p=>{const{scrollTop:v,clientHeight:h,scrollHeight:m}=p.target;if(Math.ceil(v+h)!==m||!(e!=null&&e.hasNextPage))return;const w=_.getState().pagination.pageSize;f.pagination.setPageSize(w+20),t()};return T(F.Fragment,{children:[c(vr,{excelProps:o,title:a,icon:d,actions:l,refetch:t}),c("div",{className:"table-container",onScroll:u,children:T(qt,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[c(rr,{columns:i,headerRowProps:s}),c(or,{row:n,columns:i,data:e==null?void 0:e.items,isLoading:r})]})}),c("div",{className:"d-flex justify-content-end align-items-center pt-3 pb-3",children:c(lr,{data:e,totalCount:e==null?void 0:e.totalCount,isLoading:r})})]})};export{Ne as A,Rr as C,br as D,gr as M,Sr as Q,Cr as T,mr as g,tr as u};
