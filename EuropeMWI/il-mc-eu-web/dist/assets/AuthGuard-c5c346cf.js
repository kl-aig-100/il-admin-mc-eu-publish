import{r as n,a as k,d as p,h as i,j as r,C as d,O as g,N as m,P as x}from"./index-473ea636.js";const A=()=>{const[o,s]=n.useState(!1),[u,c]=n.useState(!0),f=k(),l=async()=>{const a=sessionStorage.getItem("tokenJwt"),e=sessionStorage.getItem("tokenUrl")||f.pathname.split("/")[5];if(!(!a&&!e)){if(a&&e){const t=await p();if((t==null?void 0:t.sid)===e&&(t==null?void 0:t.expires)>new Date){s(!0);return}const h=await i(e);s(h)}if(a&&!e){s(!0);return}if(!a&&e){const t=await i(e);s(t)}}};return n.useEffect(()=>{(async()=>{try{await l()}finally{c(!1)}})()},[]),{isLoading:u,isAuthorized:o}},z=()=>{const{isLoading:o,isAuthorized:s}=A();return o?r.jsx(d,{}):s?r.jsx(g,{}):r.jsx(m,{replace:!0,to:x.UNAUTHORIZED})};export{z as default};
